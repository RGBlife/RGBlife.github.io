---
import Layout from "../layouts/Layout.astro";
import { Nav } from "../components/Nav.tsx";
import { ContactForm } from "../components/ContactForm";
import { Introduction } from "../components/Introduction";
import { About } from "../components/About";
import { ProjectCard } from "../components/project/ProjectCard";
import { Footer } from "../components/Footer";
import { HeaderText } from "src/components/HeaderText";
---

<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (
          entry.isIntersecting &&
          entry.target.classList.contains("fade-effect-header")
        ) {
          entry.target.classList.add("fade-in-header");
        }

        if (
          entry.isIntersecting &&
          !entry.target.classList.contains("fade-effect-header")
        ) {
          entry.target.classList.add("fade-in");
        }
      });
    },
    { threshold: 0.5 }
  );

  const elementsToAnimate = document.querySelectorAll(
    ".fade-effect, .fade-effect-header"
  );
  elementsToAnimate.forEach((element) => {
    observer.observe(element);
  });
</script>

<Layout title="Bret Gomes | Junior Full Stack Developer">
  <header
    class="px-10 lg:px-14 h-fit lg:h-20 fixed top-0 w-full bg-darkBackground shadow-md z-50 gap-1 justify-end flex items-center"
  >
    <Nav client:load />
  </header>

  <main
    id="mainContent"
    class="px-12 md:px-[100px] lg:px-[200px] mx-auto my-0 w-full max-w-screen-2xl min-h-screen"
  >
    <Introduction />
    <!-- description="Full stack social media app for movie lovers. Users can view the latest movies, receive recommendations based on their preferences, post reviews, comment on others' reviews, and like reviews. Built with Next.js, TailwindCSS, PostgreSQL, and Prisma; hosted on Vercel with the database hosted on Supabase." -->

    <About />
    <section id="projects" class="flex flex-col items-center pt-20">
      <HeaderText text="Projects" />
      <!-- Project 1 -->
      <ProjectCard
        title="ReelTalk Social Movie App"
        description="Full stack social media app for movie lovers. Users can view the latest movies, receive recommendations based on their preferences, post reviews, comment on others' reviews, and like reviews."
        techUsed={["Next.js", "TypeScript", "TailwindCSS", "PostgreSQL", "Prisma", "Supabase", "Vercel"]}
        side="right"
        img="ReelTalk.webp"
        github="https://github.com/RGBlife/ReelTalk"
        demo="https://reel-talk-nu.vercel.app/"
      />
      <!-- Project 2 -->
      <ProjectCard
        title="Article Hub"
        description="Full stack news app that allows users to view the latest community-posted news and filter by categories."
        techUsed={["React", "TailwindCSS", "Node.js", "Express", "PostgreSQL", "Netlify", "Render"]}
        img="article_hub.webp"
        github="https://github.com/RGBlife/news-api-ui"
        demo="https://articlehub-ui.netlify.app/"
      />
      <!-- Project 3 -->
      <ProjectCard
        title="Bubbly"
        description="Bubbly is a real-time chat app that allows users to chat with each other, created to learn more about WebSockets. (Note: there's a delay on visiting the demo link as it's hosted on Render and it takes a few seconds to wake up the server.)"
        techUsed={["JavaScript", "CSS", "NodeJS", "Render", "Socket.io"]}
        side="right"
        img="bubbly.webp"
        github="https://github.com/RGBlife/Bubbly"
        demo="https://bubbly-8vwr.onrender.com/"
      >
        <!-- Bubbly doesn't have a Demo link as it still needs deployment -->
      </ProjectCard>
    </section>
    <section id="see-more">
      <!-- This section will be interactive to see more projects beyond the featured projects ive shown previously
     -->
    </section>

    <section
      id="contact"
      class="flex flex-col justify-center items-center min-h-[90vh] p-0 relative"
    >
      <ContactForm client:load />
    </section>
    <Footer />
  </main>
</Layout>
